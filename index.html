<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Academic Research Portal - Pet Morphology</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Lucide Icons CDN -->
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        slate: { 950: '#020617' }
                    }
                }
            }
        }
    </script>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;900&family=Libre+Baskerville:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">

    <style type="text/css">
        /* --- Academic Styles --- */
        #public-project {
            background-color: #ffffff;
            color: #1a1a1a;
            font-family: 'Libre Baskerville', serif;
            line-height: 1.8;
            padding: 6rem 2rem;
            min-height: 100vh;
        }
        #public-project h1 { font-weight: 700; border-bottom: 3px solid #111; margin-bottom: 2rem; padding-bottom: 1rem; }
        #public-project h2 { font-weight: 700; margin-top: 3rem; border-bottom: 1px solid #ddd; margin-bottom: 1.5rem; padding-bottom: 0.5rem; }
        #public-project h3 { font-weight: 700; margin-top: 2rem; margin-bottom: 1rem; color: #444; }
        .citation { color: #666; font-size: 0.85rem; font-style: italic; }
        .paper-meta { border-top: 1px solid #eee; border-bottom: 1px solid #eee; padding: 1rem 0; margin-bottom: 2rem; }

        /* --- Secret Portal Styles --- */
        #secret-portal {
            display: none;
            font-family: 'Inter', sans-serif;
            background-color: #020617;
            color: #f1f5f9;
            margin: 0;
            overflow-x: hidden;
            min-height: 100vh;
        }
        .glass {
            background: rgba(15, 23, 42, 0.7);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
        }
        .game-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 20px 25px -5px rgba(56, 189, 248, 0.3);
        }
        .theater-overlay {
            display: none;
            position: fixed;
            inset: 0;
            background: black;
            z-index: 1000;
        }
        .theater-active {
            display: flex !important;
            flex-direction: column;
        }
        #game-grid {
            min-height: 400px;
        }
        .category-btn.active {
            background-color: #0ea5e9;
            color: white;
            box-shadow: 0 10px 15px -3px rgba(14, 165, 233, 0.4);
        }
        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: #020617; }
        ::-webkit-scrollbar-thumb { background: #1e293b; border-radius: 10px; }
        ::-webkit-scrollbar-thumb:hover { background: #334155; }

        .sfx-btn {
            background: #1e293b;
            border: 1px solid #334155;
            transition: all 0.2s;
        }
        .sfx-btn:hover {
            background: #0ea5e9;
            color: white;
            transform: scale(1.05);
            border-color: #38bdf8;
        }
        .sfx-btn:active {
            transform: scale(0.95);
        }

        /* Stealth Triggers */
        .stealth-trigger {
            width: 0;
            height: 0;
            border-left: 8px solid transparent;
            border-right: 8px solid transparent;
            border-bottom: 8px solid #000;
            opacity: 0.04;
            cursor: pointer;
            transition: opacity 0.3s;
            display: inline-block;
            vertical-align: middle;
            margin-left: 6px;
        }
        .stealth-trigger:hover {
            opacity: 0.15;
        }
        .panic-btn {
            position: fixed;
            bottom: 4px;
            right: 4px;
            width: 8px;
            height: 8px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 50%;
            z-index: 9999;
            cursor: pointer;
        }
        .panic-btn:hover {
            background: rgba(255, 255, 255, 0.1);
        }
        /* BIG NOTICEABLE PANIC BUTTON */
        .panic-btn-top {
            position: fixed;
            top: 20px;
            right: 20px;
            width: 60px;
            height: 60px;
            background: #ef4444;
            border: 2px solid #b91c1c;
            color: white;
            font-weight: 900;
            font-size: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            z-index: 10000;
            cursor: pointer;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.3);
            transition: all 0.1s;
        }
        .panic-btn-top:hover {
            background: #dc2626;
            transform: scale(1.05);
        }
        .panic-btn-top:active {
            transform: scale(0.9);
            background: #991b1b;
        }
    </style>
</head>
<body class="bg-white">

    <!-- PUBLIC: The "Boring School Project" -->
    <div id="public-project">
        <div class="max-w-3xl mx-auto">
            <header class="mb-8">
                <p class="text-sm uppercase tracking-widest text-slate-400 mb-2">Journal of Applied Adorability & Domesticated Aesthetics</p>
                <h1 class="text-4xl md:text-5xl leading-tight">Quantifying the Socio-Biological Impact of Extreme Cuteness: A Multi-Modal Study of Domestic Canines and Felines</h1>
                
                <div class="paper-meta flex flex-wrap justify-between items-center text-sm text-slate-600 italic">
                    <div class="mb-2 md:mb-0">
                        <span class="font-bold">Principal Investigators:</span> Emily Rosewood, Dr. Barkington III, Sir Meows-a-Lot
                    </div>
                    <div>
                        <span class="font-bold">Published:</span> October 22, 2024
                    </div>
                </div>
            </header>

            <section class="mb-12">
                <h2 class="text-2xl">Abstract</h2>
                <p class="text-justify indent-8">
                    Domestic animals, particularly <i>Canis lupus familiaris</i> and <i>Felis catus</i>, have evolved sophisticated biological mechanisms to elicit nurturing responses from human subjects. This longitudinal study evaluates the morphological determinants of "cuteness"—defined herein by the Broad-Spectrum Adorability Index (BSAI). Key variables include fur density (fluffiness), ocular-to-cranium ratios (the "big eyes" factor), and involuntary tongue protrusion (the "blep" phenomenon). Our findings suggest a direct positive correlation between pet fluffiness and the immediate release of oxytocin in mammalian observers. The implications for domestic treat distribution and furniture accessibility are significant.
                    <!-- HIDDEN TRIGGER: Inside the abstract text -->
                    <span id="unlock-trigger" class="stealth-trigger" title="End of Abstract"></span>
                </p>
            </section>

            <section class="mb-12">
                <h2 class="text-2xl">1. Theoretical Framework of Fluffiness</h2>
                <p class="mb-4">
                    The concept of "fluffiness" transcends mere tactile sensation; it is a visual language of comfort and safety. From a physiological standpoint, a fluffy coat provides a high degree of "squishability," which is a primary metric for pet value in modern households. We categorize fluffiness into three distinct phases:
                </p>
                <ul class="list-disc ml-10 mb-6 space-y-2">
                    <li><strong>Phase 1: The Silky Smooth.</strong> Typical of Short-haired breeds, emphasizing sleekness and speed.</li>
                    <li><strong>Phase 2: The Moderate Tussle.</strong> Common in Wire-haired Terriers and Maine Coons, suggesting rugged cuteness.</li>
                    <li><strong>Phase 3: The Maximum Floof.</strong> Seen in Samoyeds and Persian cats, where the specimen is more fur than organic matter.</li>
                </ul>
                <div class="my-10 bg-slate-50 border border-slate-200 p-6 rounded-lg text-center">
                    <img src="https://images.unsplash.com/photo-1543852786-1cf6624b9987?auto=format&fit=crop&q=80&w=800" alt="Maximum Floof specimen" class="w-full h-auto rounded shadow-lg mb-4">
                    <p class="text-sm text-slate-500 italic">Fig 1.1: Visual documentation of a Phase 3 Floof Cluster (juvenile felines).</p>
                </div>
                <p>
                    Interestingly, as fluffiness increases, the visibility of the specimen's structural features decreases, often resulting in a "sentient cloud" appearance. This aesthetic shift has been shown to bypass critical thinking centers in the human brain, leading to immediate declarations of "Look at that little guy!" and "I just can't even."
                </p>
            </section>

            <section class="mb-12">
                <h2 class="text-2xl">2. The "Puppy Eyes" Phenomenon & Ocular Dominance</h2>
                <p class="mb-4">
                    Ocular dominance plays a critical role in the human-animal bond. Large, dark, liquid eyes mimic the proportions of human infants, activating ancient protective instincts. In canines, the development of the levator anguli oculi medialis muscle allows for the subtle lifting of the inner eyebrows—creating the look of sadness or profound need.
                </p>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 my-10">
                    <div class="text-center">
                        <img src="https://images.unsplash.com/photo-1517841905240-472988babdf9?auto=format&fit=crop&q=80&w=600" alt="Golden Retriever puppy eyes" class="w-full h-64 object-cover rounded shadow-md mb-2">
                        <p class="text-xs text-slate-500 italic">Exhibit A: Canine specimen utilizing ocular persuasion to secure treats.</p>
                    </div>
                    <div class="text-center">
                        <img src="https://images.unsplash.com/photo-1514888286974-6c03e2ca1dba?auto=format&fit=crop&q=80&w=600" alt="Cat big eyes" class="w-full h-64 object-cover rounded shadow-md mb-2">
                        <p class="text-xs text-slate-500 italic">Exhibit B: Feline specimen demonstrating the "pre-zoomie" dilation effect.</p>
                    </div>
                </div>
                <p>
                    Our data indicates that a sustained 5-second gaze from a canine specimen increases the likelihood of human treat-delivery by 87.4%. Feline specimens, however, tend to use a "slow blink" technique, which serves a similar function but with an added layer of psychological superiority.
                </p>
            </section>

            <section class="mb-12">
                <h2 class="text-2xl">3. Statistical Analysis of "Blep" and "Mlem" Frequencies</h2>
                <p>
                    A "blep" is defined as a small portion of the tongue remaining visible after grooming or during a state of extreme relaxation. This linguistic and physical quirk is highly sought after by social media researchers. Our study tracked 50 specimens over 6 months, measuring the frequency of bleps relative to environmental comfort.
                </p>
                <h3 class="text-xl">3.1 Environmental Correlation</h3>
                <p>
                    The "Blep Threshold" is reached most frequently when:
                </p>
                <ul class="list-decimal ml-10 mt-4 space-y-2">
                    <li>The specimen is sleeping in a position that defies the laws of physics.</li>
                    <li>The specimen has forgotten what they were doing mid-lick.</li>
                    <li>The central heating is set to precisely 72°F (22°C).</li>
                </ul>
            </section>

            <section class="mb-12">
                <h2 class="text-2xl">4. Thermodynamics of the "Snuggle"</h2>
                <p>
                    Snuggling is an exothermic reaction where heat is transferred from the pet to the human, typically resulting in "Pet Paralysis"—a state where the human refuses to move for fear of disturbing the sleeping creature. We measured the thermal conductivity of a 12lb Siamese cat and found it to be more efficient than most modern high-tech blankets.
                </p>
                <div class="my-10 p-4 border-l-4 border-slate-200 bg-slate-50 italic text-slate-700">
                    "The heat generated by a purring cat is not just thermal energy; it is emotional stability in a fuzzy package." <br>— Anonymous Research Assistant
                </div>
            </section>

            <section class="mb-12">
                <h2 class="text-2xl">5. The "Zoomie" Outbreak: Kinetic Energy in Domestic Spaces</h2>
                <p>
                    A "Zoomie" (technically known as a Frenetic Random Activity Period or FRAP) is a sudden burst of energy characterized by high-speed laps around the living room. Our kinematic analysis shows that during a zoomie, a common tabby cat can reach speeds that rival small sports cars in scaled-down environments. The physics of the "wall-jump" during these periods remains a subject of intense debate among our staff scientists.
                </p>
                <div class="flex justify-center my-8">
                     <img src="https://images.unsplash.com/photo-1533738363-b7f9aef128ce?auto=format&fit=crop&q=80&w=800" alt="Cat jump" class="w-full h-auto rounded-xl border border-slate-200 grayscale shadow-inner opacity-80">
                </div>
                <p class="text-center text-xs text-slate-400">Fig 5.1: High-speed photography capturing the exact moment a zoomie begins.</p>
            </section>

            <section class="mb-12">
                <h2 class="text-2xl">6. Conclusion and Future Projections</h2>
                <p>
                    In summary, the sheer cuteness of dogs and cats is an undeniable force of nature. Their ability to look "really fluffy" and "super cute" is not just a biological coincidence, but a masterful adaptation to a world that needs more smiles. Future studies will explore the impact of tiny sweaters on feline dignity and the optimal frequency of "booping the snoot."
                </p>
                <p class="mt-8 font-bold">Recommendations for the Public:</p>
                <ol class="list-disc ml-10 space-y-1">
                    <li>Maintain a minimum of 3 head-pats per hour.</li>
                    <li>Ensure treats are stored in accessible but "secret" locations.</li>
                    <li>Acknowledge every meow or bark with a polite verbal response.</li>
                </ol>
            </section>

            <footer class="mt-20 pt-8 border-t border-slate-200 text-xs text-slate-500">
                <p class="mb-2 uppercase tracking-widest font-bold">References</p>
                <p>1. Barkington, J. (2022). <i>Why the Ball is Life: A Retrospective.</i> Bone Press.</p>
                <p>2. Mittens, C. (2021). <i>3 AM Singing: How to Wake Up the Whole House.</i> Fish & Feathers Publishing.</p>
                <p>3. Rosewood, E. (2024). <i>Qualitative Assessments of Fluff.</i> Pet Morph Quarterly.</p>
                <div class="mt-8 text-slate-300">
                    &copy; 2024 Institutional Archive for Advanced Adorability. No animals were under-snuggled during this research.
                </div>
            </footer>
        </div>
    </div>

    <!-- SECRET: The Gaming Portal -->
    <div id="secret-portal">
        <!-- Panic Switches -->
        <div id="panic-button" class="panic-btn" title="Stealth Toggle Bottom"></div>
        <div id="panic-button-top" class="panic-btn-top">PANIC</div>

        <!-- Header / Search -->
        <nav class="fixed top-0 left-0 right-0 h-16 glass border-b border-slate-800/50 z-50 px-6 flex items-center justify-between">
            <div class="flex items-center gap-4">
                <div class="bg-sky-600 p-2 rounded-xl shadow-lg shadow-sky-900/20">
                    <i data-lucide="gamepad-2" class="text-white w-5 h-5"></i>
                </div>
                <div>
                    <span class="text-xl font-black tracking-[0.2em] text-sky-400">NEBULA</span>
                    <span class="text-[10px] text-slate-500 font-bold ml-2 uppercase opacity-60">v4.1 (Stable)</span>
                </div>
            </div>

            <div class="flex-1 max-w-xl mx-8 relative hidden md:block">
                <div class="absolute left-3 top-1/2 -translate-y-1/2 text-slate-500">
                    <i data-lucide="search" class="w-4 h-4"></i>
                </div>
                <input 
                    id="search-input"
                    type="text" 
                    placeholder="Search the nebula..." 
                    class="w-full bg-slate-900/50 border border-slate-700/50 rounded-xl py-2 pl-10 pr-4 focus:ring-2 focus:ring-sky-500 outline-none transition-all"
                />
            </div>

            <div class="flex items-center gap-3 pr-16"> <!-- Added padding for the big panic button -->
                <div class="w-8 h-8 rounded-full bg-slate-800 border border-slate-700 flex items-center justify-center text-xs font-bold text-sky-400">P</div>
            </div>
        </nav>

        <div class="flex pt-16 flex-1">
            <!-- Sidebar -->
            <aside class="w-64 fixed left-0 top-16 bottom-0 bg-slate-950 border-r border-slate-900 overflow-y-auto hidden lg:block p-4">
                <div class="space-y-1" id="category-list">
                    <button class="category-btn active w-full flex items-center gap-3 p-3 rounded-xl transition-all text-slate-400 hover:bg-slate-900 hover:text-white" data-category="All">
                        <i data-lucide="layout-grid" class="w-5 h-5"></i>
                        <span class="font-semibold text-sm">All Games</span>
                    </button>
                    <button class="category-btn w-full flex items-center gap-3 p-3 rounded-xl transition-all text-slate-400 hover:bg-slate-900 hover:text-white" data-category="Action">
                        <i data-lucide="zap" class="w-5 h-5"></i>
                        <span class="font-semibold text-sm">Action</span>
                    </button>
                    <button class="category-btn w-full flex items-center gap-3 p-3 rounded-xl transition-all text-slate-400 hover:bg-slate-900 hover:text-white" data-category="Sports">
                        <i data-lucide="trophy" class="w-5 h-5"></i>
                        <span class="font-semibold text-sm">Sports</span>
                    </button>
                    <button class="category-btn w-full flex items-center gap-3 p-3 rounded-xl transition-all text-slate-400 hover:bg-slate-900 hover:text-white" data-category="Puzzle">
                        <i data-lucide="puzzle" class="w-5 h-5"></i>
                        <span class="font-semibold text-sm">Puzzle</span>
                    </button>
                    <button class="category-btn w-full flex items-center gap-3 p-3 rounded-xl transition-all text-slate-400 hover:bg-slate-900 hover:text-white" data-category="Retro">
                        <i data-lucide="history" class="w-5 h-5"></i>
                        <span class="font-semibold text-sm">Retro</span>
                    </button>
                </div>
            </aside>

            <!-- Main Content -->
            <main class="flex-1 lg:ml-64 p-6 md:p-12">
                <div class="max-w-7xl mx-auto">
                    <div class="mb-10">
                        <h1 id="view-title" class="text-3xl font-black mb-2 tracking-tight">System Core</h1>
                        <p class="text-slate-500">Welcome back, Pilot. Your neural link is active.</p>
                    </div>

                    <!-- Grid -->
                    <div id="game-grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8">
                        <div class="col-span-full py-20 text-center text-sky-400 font-bold animate-pulse">
                            Synchronizing with Nebula...
                        </div>
                    </div>
                </div>
            </main>
        </div>

        <!-- Theater Mode Overlay -->
        <div id="theater-overlay" class="theater-overlay">
            <div class="h-16 border-b border-white/10 flex items-center justify-between px-6 bg-slate-950">
                <div class="flex items-center gap-4">
                    <button id="close-theater" class="p-2 text-slate-400 hover:text-white transition-colors">
                        <i data-lucide="arrow-left" class="w-6 h-6"></i>
                    </button>
                    <h2 id="theater-title" class="font-bold text-lg text-sky-400">Game Name</h2>
                </div>
                <button id="close-theater-btn" class="px-6 py-2 bg-rose-600 hover:bg-rose-500 text-white font-bold rounded-xl transition-all shadow-lg shadow-rose-900/20">
                    EXIT GAME
                </button>
            </div>
            <div class="flex-1 bg-black overflow-hidden relative">
                <iframe id="game-iframe" src="" class="w-full h-full border-0" allow="autoplay; fullscreen; keyboard; pointer-lock;" loading="lazy"></iframe>
            </div>
        </div>
    </div>

    <!-- No modules, standard script -->
    <script>
        // --- Stealth Logic ---
        const publicProject = document.getElementById('public-project');
        const secretPortal = document.getElementById('secret-portal');
        const unlockTrigger = document.getElementById('unlock-trigger');
        const panicButton = document.getElementById('panic-button');
        const panicButtonTop = document.getElementById('panic-button-top');

        function toggleStealth(showSecret) {
            if (showSecret) {
                publicProject.style.display = 'none';
                secretPortal.style.display = 'block';
                document.body.className = "bg-slate-950 overflow-x-hidden";
                document.title = "Nebula Gaming Portal";
            } else {
                publicProject.style.display = 'block';
                secretPortal.style.display = 'none';
                document.body.className = "bg-white";
                document.title = "Academic Research Portal - Pet Morphology";
            }
        }

        unlockTrigger.addEventListener('click', () => toggleStealth(true));
        panicButton.addEventListener('click', () => toggleStealth(false));
        panicButtonTop.addEventListener('click', () => toggleStealth(false));

        // --- Starter Data (V4.1.0) ---
        const starterGames = [
            {
                id: 'slope',
                title: 'Slope',
                category: 'Action',
                thumbnail: 'https://images.unsplash.com/photo-1614850523296-d8c1af93d400?auto=format&fit=crop&q=80&w=600',
                url: 'https://kdata1.com/2020/05/slope/',
                description: 'The definitive high-speed 3D runner. Control the ball, avoid the red, and survive.'
            },
            {
                id: 'interstellar',
                title: 'Interstellar Portal',
                category: 'Retro',
                description: 'Advanced interstellar web navigation and utility suite.',
                customStyle: true
            },
            {
                id: 'nowgg',
                title: 'now.gg (Roblox/Mobile)',
                category: 'Action',
                thumbnail: 'https://now.gg/favicon.ico',
                url: 'https://now.gg/apps/roblox/971/roblox.html',
                description: 'Cloud gaming platform for Roblox and mobile titles. Bypasses restrictions.',
                isExternal: true,
                customStyle: true
            },
            {
                id: '1v1lol',
                title: '1v1.lol',
                category: 'Action',
                thumbnail: 'https://images.unsplash.com/photo-1542751371-adc38448a05e?auto=format&fit=crop&q=80&w=600',
                url: 'https://669866621-824524458639527022.preview.editmysite.com/uploads/b/139890129-845347265249567140/files/1v1.html',
                description: 'Competitive third-person shooter with building mechanics. Master your aim and your edits.'
            },
            {
                id: 'gamezop',
                title: 'Gamezop Hub',
                category: 'Puzzle',
                thumbnail: 'https://images.unsplash.com/photo-1511512578047-dfb367046420?auto=format&fit=crop&q=80&w=600',
                url: 'https://www.gamezop.com/?id=YOUR_ID_HERE',
                description: 'A massive aggregator of high-quality HTML5 games. Endless variety in one place.'
            },
            {
                id: 'mediafeed',
                title: 'Research & Media Feed',
                category: 'Action',
                description: 'Dynamic content stream powered by proxied TikTok explore.',
                customStyle: true
            },
            {
                id: 'sfxboard',
                title: 'Custom SFX Board',
                category: 'Retro',
                description: 'Legendary internet sound bites for instant emotional damage.',
                customStyle: true
            }
        ];

        let currentCategory = 'All';
        let currentSearch = '';

        // --- Core Functions ---

        function launchNowGG() {
            window.open('https://now.gg/apps/roblox/971/roblox.html', 'nowgg', 'width=1200,height=700');
        }

        function playSound(url) {
            const audio = new Audio(url);
            audio.currentTime = 0;
            audio.play().catch(e => {
                console.log("Audio interaction required: Click the page first.");
                alert("Please click anywhere on the page first to enable sound effects!");
            });
        }

        function renderGames() {
            const grid = document.getElementById('game-grid');
            if (!grid) return;

            const filtered = starterGames.filter(game => {
                const matchesCategory = currentCategory === 'All' || game.category === currentCategory;
                const matchesSearch = game.title.toLowerCase().includes(currentSearch.toLowerCase());
                return matchesCategory && matchesSearch;
            });

            grid.innerHTML = '';

            if (filtered.length === 0) {
                grid.innerHTML = `<div class="col-span-full py-20 text-center text-slate-500 italic">No games detected in sector...</div>`;
                return;
            }

            filtered.forEach(game => {
                const card = document.createElement('div');
                
                // Custom styles for specific IDs
                if (game.id === 'nowgg') {
                    card.className = "game-card group bg-[#1e293b] p-6 rounded-[2rem] border border-[#7c3aed] text-center transition-all duration-300";
                    card.innerHTML = `
                        <div class="mb-4 flex justify-center">
                            <img src="${game.thumbnail}" style="width:50px;" class="group-hover:scale-110 transition-transform">
                        </div>
                        <h3 class="text-white text-lg font-bold mb-4">${game.title}</h3>
                        <button onclick="launchNowGG()" class="bg-[#7c3aed] hover:bg-[#6d28d9] text-white px-5 py-3 rounded-xl font-bold transition-all w-full shadow-lg shadow-purple-900/20">
                            LAUNCH CLOUD GAME
                        </button>
                    `;
                } else if (game.id === 'interstellar') {
                    card.className = "col-span-1 md:col-span-2 lg:col-span-2 game-card bg-[#000] p-6 rounded-[2rem] border border-blue-500/50 transition-all duration-300 shadow-lg shadow-blue-900/10";
                    card.innerHTML = `
                        <h3 class="text-xl font-bold mb-4 text-blue-400 flex items-center gap-3">
                            <i data-lucide="sparkles" class="w-6 h-6"></i> Interstellar Hub
                        </h3>
                        <iframe 
                          src="https://gointerstellar.app/" 
                          style="width:100%; height:600px; border:none; border-radius:1.5rem; background:#000;" 
                          allow="autoplay; fullscreen; focus-without-user-activation;"
                          loading="lazy">
                        </iframe>
                    `;
                } else if (game.id === 'mediafeed') {
                    card.className = "col-span-1 md:col-span-2 lg:col-span-2 game-card bg-[#111] p-6 rounded-[2rem] border border-[#ff0050] transition-all duration-300 shadow-lg shadow-pink-900/10";
                    card.innerHTML = `
                        <h3 class="text-xl font-bold mb-4 text-[#00f2ea] flex items-center gap-3">
                            <i data-lucide="monitor-play" class="w-6 h-6"></i> Research & Media Feed
                        </h3>
                        <iframe src="https://uv.studentportal.dev/proxy/https://www.tiktok.com/explore" 
                                style="width:100%; height:600px; border:none; border-radius:1.5rem; background:#000;" 
                                loading="lazy">
                        </iframe>
                    `;
                } else if (game.id === 'sfxboard') {
                    card.className = "col-span-1 md:col-span-2 lg:col-span-2 game-card group bg-slate-900/60 p-6 rounded-[2rem] border border-sky-500/30 transition-all duration-300";
                    card.innerHTML = `
                        <div class="flex items-center justify-between mb-6">
                            <h2 class="text-xl font-bold text-sky-400 flex items-center gap-3">
                                <i data-lucide="volume-2" class="w-6 h-6"></i> Custom SFX Board
                            </h2>
                            <span class="px-2 py-0.5 bg-slate-800 rounded-md text-[9px] font-bold text-slate-400 uppercase tracking-tighter">Interactive</span>
                        </div>
                        <div class="grid grid-cols-2 sm:grid-cols-4 gap-3">
                            <button onclick="playSound('https://www.myinstants.com/media/sounds/vine-boom.mp3')" class="sfx-btn p-3 rounded-xl font-bold text-xs">VINE BOOM</button>
                            <button onclick="playSound('https://www.myinstants.com/media/sounds/bruh.mp3')" class="sfx-btn p-3 rounded-xl font-bold text-xs">BRUH</button>
                            <button onclick="playSound('https://www.myinstants.com/media/sounds/discord-notification.mp3')" class="sfx-btn p-3 rounded-xl font-bold text-xs">DISCORD</button>
                            <button onclick="playSound('https://www.myinstants.com/media/sounds/erro.mp3')" class="sfx-btn p-3 rounded-xl font-bold text-xs">ERROR</button>
                            <button onclick="playSound('https://www.myinstants.com/media/sounds/taco-bell-bong.mp3')" class="sfx-btn p-3 rounded-xl font-bold text-xs">BONG</button>
                            <button onclick="playSound('https://www.myinstants.com/media/sounds/fart-with-reverb.mp3')" class="sfx-btn p-3 rounded-xl font-bold text-xs">REVERB FART</button>
                            <button onclick="playSound('https://www.myinstants.com/media/sounds/what-the-dog-doin.mp3')" class="sfx-btn p-3 rounded-xl font-bold text-xs">DOG DOIN?</button>
                            <button onclick="playSound('https://www.myinstants.com/media/sounds/emotional-damage.mp3')" class="sfx-btn p-3 rounded-xl font-bold text-xs text-rose-400 hover:text-white">DAMAGE</button>
                        </div>
                    `;
                } else {
                    card.className = "game-card group bg-slate-900/40 rounded-[2rem] border border-slate-800/50 overflow-hidden cursor-pointer transition-all duration-300";
                    card.onclick = () => game.isExternal ? window.open(game.url, game.id) : openTheater(game);

                    card.innerHTML = `
                        <div class="aspect-[16/10] relative overflow-hidden bg-slate-800">
                            <img src="${game.thumbnail}" alt="${game.title}" class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-700">
                            <div class="absolute inset-0 bg-gradient-to-t from-slate-950/80 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center backdrop-blur-[2px]">
                                <div class="w-14 h-14 bg-white text-slate-950 rounded-full flex items-center justify-center shadow-2xl transform scale-75 group-hover:scale-100 transition-transform">
                                    <i data-lucide="${game.isExternal ? 'external-link' : 'play'}" class="fill-current w-6 h-6 ml-1"></i>
                                </div>
                            </div>
                        </div>
                        <div class="p-6">
                            <div class="flex justify-between items-start mb-2">
                                <h3 class="text-lg font-bold group-hover:text-sky-400 transition-colors">${game.title}</h3>
                                <span class="px-2 py-0.5 bg-slate-800 rounded-md text-[9px] font-bold text-slate-400 uppercase tracking-tighter">${game.category}</span>
                            </div>
                            <p class="text-sm text-slate-500 line-clamp-2 leading-relaxed">${game.description}</p>
                        </div>
                    `;
                }
                grid.appendChild(card);
            });

            if (window.lucide) lucide.createIcons();
        }

        function openTheater(game) {
            const overlay = document.getElementById('theater-overlay');
            const iframe = document.getElementById('game-iframe');
            const title = document.getElementById('theater-title');
            
            title.textContent = game.title;
            iframe.src = game.url;
            overlay.classList.add('theater-active');
            document.body.style.overflow = 'hidden';
        }

        function closeTheater() {
            const overlay = document.getElementById('theater-overlay');
            const iframe = document.getElementById('game-iframe');
            
            overlay.classList.remove('theater-active');
            iframe.src = '';
            document.body.style.overflow = '';
        }

        function init() {
            if (window.lucide) lucide.createIcons();

            document.getElementById('search-input').addEventListener('input', (e) => {
                currentSearch = e.target.value;
                renderGames();
            });

            const catBtns = document.querySelectorAll('.category-btn');
            catBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    catBtns.forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                    currentCategory = btn.getAttribute('data-category');
                    document.getElementById('view-title').textContent = currentCategory === 'All' ? 'System Core' : currentCategory + ' Sector';
                    renderGames();
                });
            });

            document.getElementById('close-theater').onclick = closeTheater;
            document.getElementById('close-theater-btn').onclick = closeTheater;

            renderGames();
        }

        window.onload = init;
    </script>
</body>
</html>